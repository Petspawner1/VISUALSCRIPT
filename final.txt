-- 🌟 Loading Wait
wait(2)

-- 📦 Rayfield Library
loadstring(game:HttpGet("https://raw.githubusercontent.com/shlexware/Rayfield/main/source"))()

-- 🎵 Music Setup
local sound = Instance.new("Sound", game:GetService("SoundService"))
sound.SoundId = "rbxassetid://1843529604"
sound.Looped = true
sound.Volume = 1

-- 🪟 UI Window
local Window = Rayfield:CreateWindow({
    Name = "🌿 Pet Mutation Suite",
    LoadingTitle = "Starting the Garden...",
    LoadingSubtitle = "by ScriptMahal",
    ConfigurationSaving = {
        Enabled = true,
        FolderName = "PetMutation",
        FileName = "config"
    },
    Discord = {Enabled = false},
    KeySystem = false
})

-- 🧪 Main
local Main = Window:CreateTab("Main", 4483362458)
Main:CreateSection("Script Loader")

Main:CreateButton({
    Name = "▶️ Load Mutation Randomizer",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Petspawner1/petrealspawner/refs/heads/main/Pet%20Mutation%20Randomizer%20Loader.txt"))()
    end
})

-- 🧬 Pet Leveler Integration
Main:CreateButton({
    Name = "⚙️ Load Pet Leveler",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Petspawner1/VISUALSCRIPT/refs/heads/main/GAG%20Pet%20Leveler.txt"))()
    end
})

-- 👁️ ESP Tab
local ESPTab = Window:CreateTab("Egg ESP", 4483362458)
ESPTab:CreateSection("Toggle ESP")

local espEnabled = {
    Dinosaur = false,
    Zen = false,
    Bug = false
}

-- Egg ESP Logic
function createESP(obj, name)
    if obj:FindFirstChild("ESP") then return end
    local box = Instance.new("BillboardGui", obj)
    box.Name = "ESP"
    box.Size = UDim2.new(0, 100, 0, 40)
    box.AlwaysOnTop = true
    box.StudsOffset = Vector3.new(0, 2, 0)

    local text = Instance.new("TextLabel", box)
    text.Size = UDim2.new(1, 0, 1, 0)
    text.BackgroundTransparency = 1
    text.Text = name .. " Egg"
    text.TextColor3 = Color3.fromRGB(255, 255, 0)
    text.TextScaled = true
end

function updateESP()
    for _, egg in ipairs(workspace:GetDescendants()) do
        if egg:IsA("Part") and egg.Name:lower():find("egg") then
            local lower = egg.Name:lower()
            if lower:find("dino") and espEnabled.Dinosaur then createESP(egg, "Dino") end
            if lower:find("zen") and espEnabled.Zen then createESP(egg, "Zen") end
            if lower:find("bug") and espEnabled.Bug then createESP(egg, "Bug") end
        end
    end
end

-- ESP Toggles
for _, eggType in pairs({"Dinosaur", "Zen", "Bug"}) do
    ESPTab:CreateToggle({
        Name = eggType .. " Egg ESP",
        CurrentValue = false,
        Callback = function(Value)
            espEnabled[eggType] = Value
            updateESP()
        end
    })
end

-- 🌱 Grow a Garden Tab
local Garden = Window:CreateTab("Grow Garden", 4483362458)
Garden:CreateSection("Visualize Pet Growth")

Garden:CreateButton({
    Name = "🌼 Plant Garden Egg",
    Callback = function()
        local egg = Instance.new("Part", workspace)
        egg.Size = Vector3.new(2, 2, 2)
        egg.Shape = Enum.PartType.Ball
        egg.Color = Color3.fromRGB(255, 255, 0)
        egg.Material = Enum.Material.Neon
        egg.Anchored = true
        egg.Position = workspace.CurrentCamera.CFrame.Position + Vector3.new(0, -5, -10)
        egg.Name = "GardenEgg"

        -- Grow animation
        task.spawn(function()
            for i = 1, 10 do
                egg.Size = egg.Size + Vector3.new(0.5, 0.5, 0.5)
                task.wait(0.2)
            end
        end)
    end
})

-- 🎵 Settings Tab
local Settings = Window:CreateTab("Settings", 4483362458)
Settings:CreateSection("Sound")

Settings:CreateToggle({
    Name = "🎶 Background Music",
    CurrentValue = false,
    Callback = function(val)
        if val then sound:Play() else sound:Stop() end
    end
})
